@use "sass:color";
@use "../../variables" as *;

// Ensure MUI components use our custom font
.job-apps-list-view {
  // Force MUI Typography components to use our font
  .MuiTypography-root {
    font-family: $font-family !important;
  }
  
  // Force MUI Chip components to use our font
  .MuiChip-root {
    font-family: $font-family !important;
  }
}

.job-apps-list-view {
  width: 100%;
  background: transparent;
  border-radius: 0;
  box-shadow: none;
  padding: 0.75rem;
  min-height: 50vh;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  box-sizing: border-box;

  .job-apps-table-container {
    background: $color-background-light;
    border-radius: $border-radius-medium;
    box-shadow: 0 1px 6px 0 rgba($color-status-applied, 0.07);
    max-height: 60vh;
    overflow-y: auto;
    scrollbar-width: thin;
    scrollbar-color: $color-primary $color-background;

    // Custom scrollbar styling
    &::-webkit-scrollbar {
      width: 8px;
    }

    &::-webkit-scrollbar-track {
      background: rgba($color-background, 0.3);
      border-radius: 4px;
    }

    &::-webkit-scrollbar-thumb {
      background: rgba($color-primary, 0.6);
      border-radius: 4px;

      &:hover {
        background: rgba($color-primary, 0.8);
      }
    }
  }

  .job-apps-table {
    background: transparent;

    .job-apps-table-header {
      background: linear-gradient(135deg, rgba($color-primary, 0.12) 0%, rgba($color-secondary, 0.08) 100%), $color-background-light;
      border-bottom: 2px solid rgba($color-primary, 0.15);
      position: sticky;
      top: 0;
      z-index: 10;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

      .table-header-cell {
        background: transparent;
        color: $color-primary;
        font-family: var(--font-family);
        font-weight: 600;
        font-size: 0.95rem;
        letter-spacing: 0.02em;
        padding: $spacing-md 0.75rem;
        border-bottom: none;
        position: relative;

        // Center align the Status column header
        &:nth-child(7) {
          text-align: center;
        }

        // Center align the Response column header  
        &:nth-child(6) {
          text-align: center;
        }

        &:first-child {
          border-radius: $border-radius-medium 0 0 0;
        }

        &:last-child {
          border-radius: 0 $border-radius-medium 0 0;
        }
      }
    }

    .job-app-table-row {
      transition: background-color 0.15s ease;
      cursor: pointer;

      &:hover {
        background-color: rgba($color-primary, 0.05) !important;
      }

      &:nth-child(even) {
        background-color: rgba($color-background, 0.4);

        &:hover {
          background-color: rgba($color-primary, 0.05) !important;
        }
      }

      &:nth-child(odd) {
        background-color: rgba($color-secondary, 0.02);

        &:hover {
          background-color: rgba($color-primary, 0.05) !important;
        }
      }

      .table-cell {
        font-family: var(--font-family);
        padding: 0.75rem;
        border-bottom: 1px solid rgba($color-tertiary, 0.08);
        color: $color-text;
        font-size: 0.9rem;
        vertical-align: middle;

        // Center align the Status column content
        &:nth-child(7) {
          text-align: center;
        }

        // Center align the Response column content
        &:nth-child(6) {
          text-align: center;
        }

        .job-title-text {
          font-weight: 600;
          color: $color-primary;
          font-size: 0.95rem;
          line-height: 1.2;
        }

        .company-text {
          font-weight: 500;
          color: $color-tertiary;
          font-size: 0.9rem;
        }

        .location-text,
        .salary-text,
        .date-text,
        .deadline-text,
        .dynamic-date-text,
        .source-text,
        .source-link {
          color: $color-text;
          font-size: 1rem;
          font-weight: 500;
          line-height: 1.3;
        }

        .deadline-text,
        .dynamic-date-text {
          font-weight: 500;
          color: rgba($color-tertiary, 0.9);
        }

        .source-link {
          font-weight: 500;
          color: rgba($color-tertiary, 0.9);
          text-decoration: none;

          &:hover {
            color: $color-primary;
            text-decoration: underline;
          }
        }
      }
    }

    .status-chip {
      font-family: var(--font-family);
      font-weight: 500;
      letter-spacing: 0.05em;
      box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
      border-radius: 16px;
    }

    .empty-state-cell {
      text-align: center;
      padding: 3rem 1rem;
      border-bottom: none;

      .empty-state-message {
        color: $color-tertiary;
        font-size: 1.1rem;
        font-family: var(--font-family);
        opacity: 0.7;
        font-style: italic;
      }
    }
  }
}

// Responsive design for smaller screens
@media (max-width: 1200px) {
  .job-apps-list-view {
    .job-apps-table {
      .table-cell {
        padding: 0.6rem 0.5rem;
        font-size: 0.8rem;

        .job-title-text {
          font-size: 0.85rem;
        }

        .company-text {
          font-size: 0.8rem;
        }

        .location-text,
        .salary-text,
        .date-text,
        .deadline-text,
        .source-text {
          font-size: 0.75rem;
        }

        .source-text {
          text-decoration: none;

          &:hover {
            text-decoration: underline;
          }
        }
      }

      .table-header-cell {
        padding: 0.8rem 0.5rem;
        font-size: 0.85rem;
      }
    }
  }
}
